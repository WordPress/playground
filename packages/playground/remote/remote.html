<!DOCTYPE html>
<html>
	<head>
		<title>WordPress Playground</title>
		<style>
			* {
				box-sizing: border-box;
			}

			html,
			body,
			#wp {
				height: 100%;
				width: 100%;
				margin: 0;
				padding: 0;
				border: 0;
			}

			html,
			body {
				overflow: hidden;
			}
		</style>
	</head>
	<body class="is-loading">
		<iframe
			id="wp"
			sandbox="allow-same-origin allow-scripts allow-popups allow-forms allow-downloads"
		></iframe>
		<script type="module">
			if (window.top != window.self) {
				document.body.classList.add('is-embedded');
			}
			import { bootPlaygroundRemote } from './src/index';
			try {
				await bootPlaygroundRemote();
			} catch (e) {
				document.write('<body>');

				const div = document.createElement('div');
				div.innerText = `Playground loading error: ${e.message}.`;
				document.body.append(div);

				const button = document.createElement('button');
				button.innerText = 'Retry';
				button.onclick = () => {
					(window.parent || window).location.reload();
				};
				document.body.append(button);
			}
		</script>
	</body>
</html>
